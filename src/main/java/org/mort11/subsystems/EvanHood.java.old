package org.mort11.subsystems;
import edu.wpi.first.wpilibj.smartdashboard.SmartDashboard;
import edu.wpi.first.wpilibj2.command.SubsystemBase;

import org.mort11.configs.constants.PortConstants;
import static org.mort11.configs.constants.PhysicalConstants.Hood.*;

import com.ctre.phoenix6.configs.CANcoderConfiguration;
import com.ctre.phoenix6.hardware.CANcoder;
import com.revrobotics.ResetMode;
import com.revrobotics.servohub.*;
import com.revrobotics.servohub.ServoChannel.ChannelId;
import com.revrobotics.servohub.config.ServoChannelConfig;
import com.revrobotics.servohub.config.ServoHubConfig;
import com.revrobotics.encoder.*;
import edu.wpi.first.math.controller.PIDController;

import org.mort11.configs.LookUpTable;

public class Hood extends SubsystemBase {

    private static Hood hood;

    public ServoHub servoHub;
    private ServoHubConfig servoHubConfig;

    private Hood () {
        servoHub = new ServoHub(PortConstants.Hood.servoHood);
        servoHubConfig = new ServoHubConfig();

    servoHubConfig
        .channel0.pulseRange(MIN_PULSE_WIDTH_SERVO, MIDDLE_PULSE_WIDTH_SERVO, MAX_PULSE_WIDTH_SERVO)
        .disableBehavior(ServoChannelConfig.BehaviorWhenDisabled.kSupplyPower);

        servoHub.configure(servoHubConfig, ServoHub.ResetMode.kNoResetSafeParameters);
    }


    public static Hood getInstance() {
        if (hood == null) {
            hood = new Hood();
        }
        return hood;
    }
}